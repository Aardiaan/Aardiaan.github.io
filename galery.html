<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeria zdjęć - Erasmus+ Turcja - Manavgat 2025</title>
    <link href="styl.css" rel="stylesheet">
    <!-- Font Awesome for navigation icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="header-nav-container">
        <header>
            <div class="header-content">
                <div class="header-left">
                    <img src="erasmus-logo.png" alt="Logo Erasmus+" class="erasmus-logo">
                    <div class="header-title">
                        <h1>Galeria zdjęć - Erasmus+ Turcja 2025</h1>
                        <p>Wspomnienia z naszego pobytu w Manavgat</p>
                    </div>
                </div>
                <div class="flags-container">
                    <img src="poland-flag.png" alt="Flaga Polski" class="flag">
                    <img src="turkey-flag.png" alt="Flaga Turcji" class="flag">
                    <img src="eu-flag.png" alt="Flaga Unii Europejskiej" class="flag">
                </div>
            </div>
            
            <nav>
                <div id="pbox">
                    <a href="index.html" id="przycisk">GŁÓWNA</a>
                    <a href="participants.html" id="przycisk">UCZESTNICY</a>
                    <a href="institution.html" id="przycisk">INSTYTUCJE</a>
                    <a href="praktyki.html" id="przycisk">PRAKTYKI</a>
                    <a href="galery.html" id="przycisk">GALERIA</a>
                </div>
            </nav>
        </header>
    </div>

    <main class="gallery-main">
        <!-- Gallery Pages Container -->
        <div class="gallery-pages-container">
            <!-- Page 1 -->
            <div class="gallery-page active" data-page="1">
                <div class="gallery-container">
                    <div class="gallery-item" onclick="openLightbox('galeria/zdjeciegrupowe2.jpeg', 'Zdjęcie z projektu 1')">
                        <img src="galeria/zdjeciegrupowe2.jpeg" alt="Zdjęcie z projektu 1">
                        <div class="gallery-caption">Zdjęcie 1</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 2')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 2">
                        <div class="gallery-caption">Zdjęcie 2</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 3')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 3">
                        <div class="gallery-caption">Zdjęcie 3</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 4')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 4">
                        <div class="gallery-caption">Zdjęcie 4</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 5')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 5">
                        <div class="gallery-caption">Zdjęcie 5</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 6')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 6">
                        <div class="gallery-caption">Zdjęcie 6</div>
                    </div>
                </div>
            </div>
            
            <!-- Page 2 -->
            <div class="gallery-page" data-page="2">
                <div class="gallery-container">
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 7')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 7">
                        <div class="gallery-caption">Zdjęcie 7</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 8')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 8">
                        <div class="gallery-caption">Zdjęcie 8</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 9')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 9">
                        <div class="gallery-caption">Zdjęcie 9</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 10')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 10">
                        <div class="gallery-caption">Zdjęcie 10</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 11')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 11">
                        <div class="gallery-caption">Zdjęcie 11</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 12')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 12">
                        <div class="gallery-caption">Zdjęcie 12</div>
                    </div>
                </div>
            </div>
            
            <!-- Page 3 -->
            <div class="gallery-page" data-page="3">
                <div class="gallery-container">
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 13')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 13">
                        <div class="gallery-caption">Zdjęcie 13</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 14')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 14">
                        <div class="gallery-caption">Zdjęcie 14</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 15')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 15">
                        <div class="gallery-caption">Zdjęcie 15</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 16')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 16">
                        <div class="gallery-caption">Zdjęcie 16</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 17')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 17">
                        <div class="gallery-caption">Zdjęcie 17</div>
                    </div>
                    <div class="gallery-item" onclick="openLightbox('linux.jfif', 'Zdjęcie z projektu 18')">
                        <img src="linux.jfif" alt="Zdjęcie z projektu 18">
                        <div class="gallery-caption">Zdjęcie 18</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pagination -->
        <div class="pagination">
            <button class="pagination-btn" onclick="changePage('prev')">
                <i class="fas fa-chevron-left"></i> Poprzednia
            </button>
            <div class="page-indicators">
                <span class="page-indicator active" data-page="1" onclick="goToPage(1)">1</span>
                <span class="page-indicator" data-page="2" onclick="goToPage(2)">2</span>
                <span class="page-indicator" data-page="3" onclick="goToPage(3)">3</span>
            </div>
            <button class="pagination-btn" onclick="changePage('next')">
                Następna <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        
        <!-- Lightbox -->
        <div id="lightbox" class="lightbox">
            <span class="close-lightbox" onclick="closeLightbox()">&times;</span>
            <div class="lightbox-content">
                <img id="lightbox-img" src="">
                <div id="lightbox-caption"></div>
            </div>
            <button class="lightbox-nav prev" onclick="navigateLightbox('prev')">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="lightbox-nav next" onclick="navigateLightbox('next')">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <a href="index.html" class="back-link">Wróć do strony głównej</a>
    </main>

    <footer>
        <p>&copy; 2025 Erasmus+ Turcja-Manavgat | Stronę przygotował: Wiktor Ludera, Patryk Dublan, Oliwier Mróz</p>
        <br><br><br>
    </footer>

    <!-- Fixed Sticky Header JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const headerContainer = document.querySelector('.header-nav-container');
                const header = document.querySelector('header');
                const headerHeight = headerContainer.offsetHeight;
                let isSticky = false;
                
                // Function to handle scroll with better performance
                function handleScroll() {
                    const scrollY = window.scrollY || window.pageYOffset;
                    
                    if (scrollY > 100) { // Increased threshold for better UX
                        if (!isSticky) {
                            header.classList.add('sticky-header');
                            document.body.classList.add('has-sticky-header');
                            document.body.style.paddingTop = headerHeight + 'px';
                            isSticky = true;
                        }
                    } else {
                        if (isSticky) {
                            header.classList.remove('sticky-header');
                            document.body.classList.remove('has-sticky-header');
                            document.body.style.paddingTop = '0';
                            isSticky = false;
                        }
                    }
                }
                
                // Use debounced scroll for performance
                let scrollTimeout;
                window.addEventListener('scroll', function() {
                    if (!scrollTimeout) {
                        scrollTimeout = setTimeout(function() {
                            handleScroll();
                            scrollTimeout = null;
                        }, 10);
                    }
                });
                
                // Initial check
                handleScroll();
                
                // Update header height on resize
                let resizeTimeout;
                window.addEventListener('resize', function() {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(function() {
                        const newHeaderHeight = headerContainer.offsetHeight;
                        if (isSticky) {
                            document.body.style.paddingTop = newHeaderHeight + 'px';
                        }
                    }, 50);
                });
                
                console.log("Sticky header initialized successfully");
            } catch (error) {
                console.error("Error initializing sticky header:", error);
            }
        });
    </script>

    <!-- JavaScript for pagination and lightbox -->
    <script>
        let currentPage = 1;
        const totalPages = 3;
        let currentLightboxIndex = 0;
        const galleryItems = document.querySelectorAll('.gallery-item');
        
        // Page navigation
        function changePage(direction) {
            if (direction === 'next' && currentPage < totalPages) {
                goToPage(currentPage + 1);
            } else if (direction === 'prev' && currentPage > 1) {
                goToPage(currentPage - 1);
            }
        }
        
        function goToPage(pageNum) {
            // Hide all pages
            document.querySelectorAll('.gallery-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.querySelector(`.gallery-page[data-page="${pageNum}"]`).classList.add('active');
            
            // Update page indicators
            document.querySelectorAll('.page-indicator').forEach(indicator => {
                indicator.classList.remove('active');
            });
            document.querySelector(`.page-indicator[data-page="${pageNum}"]`).classList.add('active');
            
            // Update current page
            currentPage = pageNum;
            
            // Scroll to top of gallery
            document.querySelector('.gallery-main').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Lightbox functions
        function openLightbox(imgSrc, caption) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            // Find index of current image for navigation
            for (let i = 0; i < galleryItems.length; i++) {
                const item = galleryItems[i];
                if (item.querySelector('img').src.includes(imgSrc) && 
                    item.querySelector('.gallery-caption').textContent === caption) {
                    currentLightboxIndex = i;
                    break;
                }
            }
            
            // Set image and caption
            lightboxImg.src = imgSrc;
            lightboxCaption.textContent = caption;
            
            // Show lightbox with animation
            lightbox.style.display = 'flex';
            setTimeout(() => {
                lightbox.style.opacity = '1';
            }, 10);
            
            // Prevent body scrolling
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.style.opacity = '0';
            setTimeout(() => {
                lightbox.style.display = 'none';
            }, 300);
            
            // Re-enable body scrolling
            document.body.style.overflow = 'auto';
        }
        
        function navigateLightbox(direction) {
            // Calculate new index
            let newIndex;
            if (direction === 'next') {
                newIndex = (currentLightboxIndex + 1) % galleryItems.length;
            } else {
                newIndex = (currentLightboxIndex - 1 + galleryItems.length) % galleryItems.length;
            }
            
            // Get page of the new index
            const itemsPerPage = 6;
            const pageOfNewIndex = Math.floor(newIndex / itemsPerPage) + 1;
            
            // If page changed, navigate to that page
            if (pageOfNewIndex !== currentPage) {
                goToPage(pageOfNewIndex);
            }
            
            // Get new image and caption
            const newItem = galleryItems[newIndex];
            const newImgSrc = newItem.querySelector('img').src;
            const newCaption = newItem.querySelector('.gallery-caption').textContent;
            
            // Update current index
            currentLightboxIndex = newIndex;
            
            // Update lightbox content with animation
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            lightboxImg.style.opacity = '0';
            setTimeout(() => {
                lightboxImg.src = newImgSrc;
                lightboxCaption.textContent = newCaption;
                lightboxImg.style.opacity = '1';
            }, 200);
        }
        
        // Close lightbox when clicking outside the image
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('lightbox').style.display === 'flex') {
                if (e.key === 'Escape') {
                    closeLightbox();
                } else if (e.key === 'ArrowRight') {
                    navigateLightbox('next');
                } else if (e.key === 'ArrowLeft') {
                    navigateLightbox('prev');
                }
            }
        });
    </script>
</body>
</html>